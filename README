
lua-httpd
---------

  This package contains a simple networking library for Lua 5.0 which
 is implemented and exported from a C shared library (.so).

  It may be installed system-wide and used by your Lua scripts with
 ease.



Installation
------------

  Compile and install the library with

	make

	make install

  This will install the library into the directory /usr/lib/lua/5.0 
 along with a helper package into /usr/share/lua50.



Usage
-----

  Once the library has been installed you can use it from your Lua
 scripts as follows:


[------- Example ------]
#!/usr/bin/lua

sockets = require "libhttpd";

print ( sockets.version .. " loaded OK" );
[ ----- ]


  If you do not wish to install the library system-wide you can
 instead use:

[------- Example ------]
#!/usr/bin/lua

socket = assert(loadlib("./libhttpd.so", "luaopen_libhttpd"))()

print ( sockets.version .. " loaded OK" );
[ ----- ]



Demonstration Code
------------------

    httpd.lua  - A simple HTTP server written in Lua using the primitives.
    client.lua - A simple HTTP client written in Lua using the primitives.




libhttpd.c
----------

  This function exports simple wrappers to lua of the following
 networking primitives:

	bind();
	accept();
	connect();
	read();
	write();
	close();

  These are sufficient to write simple HTTP servers in Lua.



httpd.lua
---------

  This is an simple HTTP server which supports multiple virtual hosts.

  By default it will serve requests for files located beneath ./vhosts,
 each directory beneath there will be taken as a hostname to serve.

  The server will bind to port 4444 by default.

  The request to close it is:

	http://localhost:4444/finish


client.lua
----------

  This is a trivial HTTP client which will connect to
 http://localhost:80/ and output the index page.



License
-------

  This code is distributed under the terms of the GNU General
 Lesser Public License.



Steve
--
http://www.steve.org.uk/
